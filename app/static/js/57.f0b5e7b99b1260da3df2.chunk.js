(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{1711:function(e,t,M){var i=M(865),n=M(309),a=M(866),o=M(48);e.exports=function(e,t){return(o(e)?i:n)(e,a(t))}},3358:function(e,t,M){var i=M(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(M(26)),a=i(M(28)),o=i(M(19)),r=i(M(46)),s=i(M(47)),u=i(M(43)),N=i(M(162)),c=M(0),D=M(152),g=i(M(4)),l=M(60),j=M(66),T=i(M(4415)),z=M(601),d=i(M(3570)),y=M(55),w=i(M(3415)),O=M(9);function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var M,i=(0,u.default)(e);if(t){var n=(0,u.default)(this).constructor;M=Reflect.construct(i,arguments,n)}else M=i.apply(this,arguments);return(0,s.default)(this,M)}}var h=function(e){(0,r.default)(M,e);var t=I(M);function M(e){var i;return(0,n.default)(this,M),(i=t.call(this,e)).state={loading:!1,email:null,password:null,showInvalidCredentialsError:!1,showBlockedError:!1,showAppUserError:!1},i.presenter=new T.default((0,o.default)(i),new w.default(i.props.history)),i}return(0,a.default)(M,[{key:"componentDidMount",value:function(){this.presenter.onNavigate()}},{key:"showInvalidCredentialsError",value:function(){this.setState({showInvalidCredentialsError:!0,loading:!1})}},{key:"showBlockedError",value:function(){this.setState({showBlockedError:!0,loading:!1})}},{key:"showAppUserError",value:function(){this.setState({showAppUserError:!0,loading:!1})}},{key:"setLoadingStatus",value:function(){this.setState({showInvalidCredentialsError:!1,showBlockedError:!1,loading:!0})}},{key:"onLogIn",value:function(e){e.preventDefault(),this.setLoadingStatus(),(0,N.default)(this.state.email)||(0,N.default)(this.state.password)?this.showInvalidCredentialsError():this.presenter.onLogIn(this.state.email,this.state.password)}},{key:"render",value:function(){var e=this,t=this.state,M=t.email,i=t.password,n=t.loading,a=t.showInvalidCredentialsError,o=t.showBlockedError,r=t.showAppUserError,s=this.props.i18n;return(0,O.jsx)(d.default,{children:(0,O.jsxs)("form",{children:[(0,O.jsx)(z.SpacedRow,{bottom:1,children:(0,O.jsx)(l.TextField,{isRequired:!0,id:"LoginUsername",value:M,debounceTime:0,onChange:function(t){return e.setState({email:t})},placeholder:s._({id:"Username"}),type:"text"})}),(0,O.jsx)(f,{isRequired:!0,id:"LoginPassword",value:i,debounceTime:0,onChange:function(t){return e.setState({password:t})},placeholder:s._({id:"Password"}),type:"password"}),a&&(0,O.jsx)(z.SpacedRow,{bottom:.5,children:(0,O.jsx)(E,{children:(0,O.jsx)(j.Trans,{id:"Invalid login credentials. Please try again."})})}),o&&(0,O.jsx)(z.SpacedRow,{bottom:.5,children:(0,O.jsx)(E,{children:(0,O.jsx)(j.Trans,{id:"User blocked. Please reset your password."})})}),r&&(0,O.jsx)(z.SpacedRow,{bottom:.5,children:(0,O.jsx)(E,{children:(0,O.jsx)(j.Trans,{id:"Mobile only user. Please login via mobile app."})})}),(0,O.jsx)(l.Button,{type:"submit",classType:"primary",id:"LoginSubmit",style:{marginBottom:"1.25em",width:"100%"},onClick:function(t){return e.onLogIn(t)},disabled:n,children:(0,O.jsx)(j.Trans,{id:"Log in"})}),(0,O.jsx)(k,{to:"/login/forgot_password",children:(0,O.jsx)(j.Trans,{id:"Forgot your password?"})})]})})}}]),M}(c.Component),L=(0,j.withI18n)()(h);t.default=L;var E=g.default.p.withConfig({componentId:"sc-1jejily-0"})(["color:",";font-family:",";"],(0,y.getThemeValue)("palette.border.negative"),(0,y.getThemeValue)("font.family.primary")),k=(0,g.default)(D.Link).withConfig({componentId:"sc-1jejily-1"})(["margin:0 auto;margin-bottom:0.5em;text-align:center;color:",";font-family:",";opacity:0.6;&:hover{opacity:0.7;}"],(0,y.getThemeValue)("palette.foreground.secondary"),(0,y.getThemeValue)("font.family.primary")),f=(0,g.default)(l.TextField).withConfig({componentId:"sc-1jejily-2"})(["padding-bottom:",";& > i{position:absolute;margin-left:0;right:",";top:20%;}"],(0,y.getThemeValue)("layout.spacing.m"),(0,y.getThemeValue)("layout.spacing.m"))},3415:function(e,t,M){var i=M(2);Object.defineProperty(t,"__esModule",{value:!0}),t.slugify=t.default=void 0;var n=i(M(26)),a=i(M(28)),o=i(M(1705)),r=i(M(50)),s=i(M(72)),u=function(){function e(t,M){(0,n.default)(this,e),this.history=t,this.window=M||window,this.EXTERNAL_APPS={intranet:"https://intranet.allfunds.com"}}return(0,a.default)(e,[{key:"getSearchString",value:function(){return(0,s.default)(this.history.location,"search","")}},{key:"updateQuery",value:function(e){this.history.push("?".concat(e))}},{key:"replaceQuery",value:function(e){this.history.replace("?".concat(e))}},{key:"goToArticlesScreen",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this.history.push({pathname:"/news",search:e&&"?"+new URLSearchParams({hashtags:e}).toString()})}},{key:"goToMainPage",value:function(){this.history.push("/")}},{key:"goToApplication",value:function(e){var t=this;({"digital-selector":function(){return t.goToMainDigitalSelector()},watchlists:function(){return t.goToWatchlistPage()},screener:function(){return t.goToScreenerPage(1,null)},bp2s:function(){return t.goToBp2sPage()}}[e]||function(){return t.goToMainPage()})()}},{key:"goToBp2sPage",value:function(){this.history.push("/bp2s/inducements")}},{key:"goToScreenerPage",value:function(e,t){this.history.push(this.screenerPage(e,t))}},{key:"goToDigitalSelectorPage",value:function(e,t,M){this.history.push(this.digitalSelectorPage(e,t,M))}},{key:"goToBestClassSearchPage",value:function(e,t,M){this.history.push(this.bestClassPage(e,t,M))}},{key:"goToBestClassLandingPage",value:function(){this.history.push("/regulatory/share-class")}},{key:"goToMainDigitalSelector",value:function(){this.history.push("/digital-selector")}},{key:"goToComparisonPage",value:function(e){this.history.push(this.comparisonPage(e))}},{key:"goToSavedComparison",value:function(e){this.history.replace("/comparison/search/".concat(e.id,"?products=").concat(e.parameters.products))}},{key:"goToNewComparisonPage",value:function(e){this.history.push("/comparison/search/new?products=".concat(e))}},{key:"goToComparisonIndex",value:function(){this.history.push("/comparison")}},{key:"goToDigitalSelectorSearchPage",value:function(e){(0,r.default)(e)?this.history.push("/digital-selector/search/1/".concat(e)):this.history.push("/digital-selector/search/1")}},{key:"goToInsightPage",value:function(e,t){this.history.push(this.insightPage(e,t))}},{key:"goToPeerGroupProductsPage",value:function(e,t){this.history.push(this.peerGroupPage(e,t))}},{key:"goToSearchProductsPage",value:function(e,t){this.history.push(this.searchProductsPage(e,t))}},{key:"goToProductOverview",value:function(e){this.history.push("/product/".concat(e))}},{key:"goToWatchlistPage",value:function(){this.history.push("/watchlists")}},{key:"goToWatchlistPageDescription",value:function(e){this.history.push("/watchlists/".concat(e))}},{key:"goToLogin",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(0,o.default)(["/login",e]).join("?");this.history.push(t)}},{key:"goToTwoFactorLogin",value:function(){this.history.push("/login/2fa")}},{key:"goToChangePassword",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="/login/change_password".concat(e?"?cs=true":"");this.history.push(t)}},{key:"goToChangeSignature",value:function(){this.history.push("/login/change_signature")}},{key:"screenerPage",value:function(e,t){return(0,o.default)(["/screener/".concat(e),t]).join("?")}},{key:"digitalSelectorPage",value:function(e,t,M){return(0,r.default)(e)?(0,o.default)(["/digital-selector/search/".concat(t),M]).join("?"):(0,o.default)(["/digital-selector/search/".concat(t,"/").concat(e),M]).join("?")}},{key:"bestClassPage",value:function(e,t,M){return(0,r.default)(e)?(0,o.default)(["/regulatory/share-class/search/".concat(t),M]).join("?"):(0,o.default)(["/regulatory/share-class/search/".concat(t,"/").concat(e),M]).join("?")}},{key:"comparisonPage",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,M=t||this.history.location.pathname;return(0,o.default)([M,e]).join("?")}},{key:"insightPage",value:function(e,t){return(0,o.default)(["/insights/".concat(e),t]).join("?")}},{key:"peerGroupPage",value:function(e,t){return"/peer_group/".concat(e,"/").concat(t)}},{key:"searchProductsPage",value:function(e,t){return"/search?page=".concat(t,"&q=").concat(encodeURIComponent(e))}},{key:"navigateToRequestedLocationOrHome",value:function(e,t){if(t.getRedirectCookies())return this.redirectExternalUrl(t);var M=this.getRedirectUrl(e,t),i=new URL(M,this.window.location),n=i.host!==this.window.location.host;return t.clearRedirect(),n?this.window.location=i.toString():this.history.push(i.pathname),!0}},{key:"getRedirectUrl",value:function(e,t){var M=(0,s.default)(e,"state.from.pathname",null),i=t.getRedirect(),n=this.EXTERNAL_APPS[(0,s.default)(i,"redirect",null)],a=(0,s.default)(i,"pathname",null);return n||M||a||"/"}},{key:"redirectExternalUrl",value:function(e){var t=e.getRedirectCookies();return e.clearRedirectCookies(),this.window.location=t,!0}}]),e}();t.default=u;t.slugify=function(e){if((0,r.default)(e))return e;var t="\xe0\xe1\xe4\xe2\xe3\xe5\u0103\xe6\u0105\xe7\u0107\u010d\u0111\u010f\xe8\xe9\u011b\u0117\xeb\xea\u0119\u01f5\u1e27\xec\xed\xef\xee\u012f\u0142\u1e3f\u01f9\u0144\u0148\xf1\xf2\xf3\xf6\xf4\u0153\xf8\u1e55\u0155\u0159\xdf\u015b\u0161\u0219\u0165\u021b\xf9\xfa\xfc\xfb\u01d8\u016f\u0171\u016b\u0173\u1e83\u1e8d\xff\xfd\u017a\u017e\u017c\xb7/_,:;",M=new RegExp(t.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(M,(function(e){return"aaaaaaaaacccddeeeeeeeghiiiiilmnnnnooooooprrssssttuuuuuuuuuwxyyzzz------".charAt(t.indexOf(e))})).replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}},3570:function(e,t,M){var i=M(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=M(66),a=M(37),o=M(60),r=i(M(4)),s=i(M(3574)),u=M(55),N=M(9),c=function(e){var t=e.children;return(0,N.jsx)(g,{center:"xs",middle:"sm",children:(0,N.jsxs)(D,{xs:12,sm:12,md:10,lg:8,xl:6,children:[(0,N.jsx)(l,{children:(0,N.jsx)(g,{center:"xs",middle:"xs",children:(0,N.jsxs)(j,{children:[(0,N.jsx)(z,{}),(0,N.jsx)(n.Trans,{id:"All you ever wanted to know about funds, in one place."})]})})}),(0,N.jsx)(T,{children:t})]})})};t.default=c;var D=(0,r.default)(a.Col).withConfig({componentId:"sc-n6hcqf-0"})(["padding:0 !important;"]),g=(0,r.default)(a.Row).withConfig({componentId:"sc-n6hcqf-1"})(["margin:0 auto !important;max-height:100%;height:100vh;"]),l=(0,r.default)(o.Card).withConfig({componentId:"sc-n6hcqf-2"})(["height:265px;margin-bottom:0;background:",";border-radius:"," "," 0 0;@media only screen and (max-width:767px){border-radius:0;height:35vh;}"],(0,u.getThemeValue)("palette.secondary"),(0,u.getThemeValue)("layout.borderRadius.xs"),(0,u.getThemeValue)("layout.borderRadius.xs")),j=(0,r.default)(o.Label).withConfig({componentId:"sc-n6hcqf-3"})(["color:",";text-align:center;line-height:1.69;"],(0,u.getThemeValue)("palette.foreground.tertiaryB")),T=(0,r.default)(o.Card).withConfig({componentId:"sc-n6hcqf-4"})(["background:",";border-radius:0 0 "," ",";@media only screen and (max-width:767px){border-radius:0;min-height:65vh;}"],(0,u.getThemeValue)("palette.background.primary"),(0,u.getThemeValue)("layout.borderRadius.xs"),(0,u.getThemeValue)("layout.borderRadius.xs")),z=r.default.img.attrs({src:s.default}).withConfig({componentId:"sc-n6hcqf-5"})(["width:80%;height:4em;display:flex;margin-left:auto;margin-right:auto;margin-bottom:",";"],(0,u.getThemeValue)("layout.spacing.m"))},3574:function(e,t,M){"use strict";M.r(t),t.default="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNjkxcHgiIGhlaWdodD0iMjEwcHgiIHZpZXdCb3g9IjAgMCA2OTEgMjEwIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgogICAgPCEtLSBHZW5lcmF0b3I6IFNrZXRjaCA1My4yICg3MjY0MykgLSBodHRwczovL3NrZXRjaGFwcC5jb20gLS0+CiAgICA8ZyBpZD0iQXJ0Ym9hcmQiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGQ9Ik02NzIuMzE0MjE4LDk4LjExMzM0ODcgTDY1Ni4wOTg0ODEsOTQuNjgyMTc3MSBDNjUxLjM3MzMwNiw5My43MTcwOTc3IDY0OC4zNjU0NjgsODkuOTY0NTY1NiA2NDguMzY1NDY4LDg1LjU2ODMxNDUgQzY0OC4zNjU0NjgsNzguNzA1OTcxMyA2NTIuNjYxODA5LDcyLjI3Mzc3MiA2NjMuMTg1NzQ0LDcyLjI3Mzc3MiBDNjcwLjE2NjA0Nyw3Mi4yNzM3NzIgNjc3LjI1NDMwOSw3Ni4zNDc2NjQ1IDY4My42OTc4MjEsODMuOTYwNTE0MiBMNjg3Ljc3ODI0NCw3MS44NDQ2MjYgQzY3OC40MzU4NTMsNjguNjI4MDI3NCA2NjkuNTIyMjk2LDY3LjU1NjE2MDUgNjYxLjY4MjMyNCw2Ny41NTYxNjA1IEM2NDQuNDk5OTYxLDY3LjU1NjE2MDUgNjM0LjgzNDY5NSw3Ni45OTEzODM1IDYzNC44MzQ2OTUsODguNjc4MTI1NyBDNjM0LjgzNDY5NSw5Ni4zOTc3NjI5IDY0MC4wOTY2NjIsMTA0LjY1MzMzMyA2NTEuNDgwMjY1LDEwNy4xMTk0MjYgTDY2OC4wMTg4NzcsMTEwLjc2NDE3MiBDNjczLjgxNzYzNywxMTIuMDUxNjEgNjc2LjgyNDQ3NiwxMTYuNTU0NjQ5IDY3Ni44MjQ0NzYsMTIxLjE2NTQ3MyBDNjc2LjgyNDQ3NiwxMjcuOTIwMDMgNjcyLjA5OTMwMSwxMzYuMjgzMzg3IDY2MC44MjM2NTYsMTM2LjI4MzM4NyBDNjUxLjU4ODIyMywxMzYuMjgzMzg3IDY0NC4zOTMwMDMsMTMyLjYzNzY0MiA2MzcuNzM0NTc1LDEyNC41OTY2NDQgTDYzMy42NTMxNTEsMTM2LjcxMTUzNCBDNjQyLjk5NjU0MiwxMzkuOTI4MTMzIDY1MS45MTAwOTksMTQxIDY2MS4zNjA0NDksMTQxIEM2NzkuMTg3NTYzLDE0MSA2OTEsMTMyLjMxNjI4MSA2OTEsMTE4LjgwNjE2OCBDNjkxLDEwOS4xNTYzNzIgNjg2LjA1OTkwOCwxMDEuMDA3NTg5IDY3Mi4zMTQyMTgsOTguMTEzMzQ4NyBaIE02MDguNDE4ODk4LDExNS4zNzU5OTQgQzYwOC40MTg4OTgsMTI4LjQ1NTk2NCA2MDAuMzY0MDEsMTM2LjE3NTYwMSA1ODguOTgxNDA2LDEzNi4xNzU2MDEgQzU3NS42NjQ1NSwxMzYuMTc1NjAxIDU3MC41MDk1NDEsMTI2LjA5NzY1NyA1NzAuNTA5NTQxLDEwNy43NjMxNDUgTDU3MC41MDk1NDEsMTAxLjU0NDUyIEM1NzAuNTA5NTQxLDgyLjg4ODY0NzMgNTc1LjY2NDU1LDcyLjM4MDU1OTUgNTg5LjA4ODM2NSw3Mi4zODA1NTk1IEM2MDAuNDcxOTY4LDcyLjM4MDU1OTUgNjA4LjQxODg5OCw4MC4xMDAxOTY2IDYwOC40MTg4OTgsOTMuMTgxMTY0MiBMNjA4LjQxODg5OCwxMTUuMzc1OTk0IFogTTYyMi4yNzE1NDcsNDAuNjQzNzE4OSBMNjA0Ljk4MjIyNiw0NS42ODI2OTA5IEM2MDcuMDIyNDM4LDQ5LjQzNTIyMyA2MDguNDE4ODk4LDU3LjA0ODA3MjYgNjA4LjQxODg5OCw2Mi4wODgwNDI2IEw2MDguNDE4ODk4LDc1LjE5MDk2NjUgQzYwMy4yMDA5MTQsNzAuMjYwNzc4MSA1OTUuODM4NzU4LDY3LjU1NjE2MDUgNTg3LjM3MDAyOSw2Ny41NTYxNjA1IEM1NjYuMzIyMTU5LDY3LjU1NjE2MDUgNTU0LjgzMDU5OCw3OS43Nzg4MzYyIDU1NC44MzA1OTgsMTAxLjU0NDUyIEw1NTQuODMwNTk4LDEwNy43NjMxNDUgQzU1NC44MzA1OTgsMTI5LjA5OTY4MyA1NjYuOTY1OTEsMTQxIDU4OC45ODE0MDYsMTQxIEM1OTcuMTc4MjQsMTQxIDYwNC4zNjQ0NjQsMTM4LjA1Mjg2NSA2MDkuMzU1NTM2LDEzMi43MDE1MTUgQzYwOS44MDEzNjQsMTM0LjgwNTMyOCA2MTAuNDcyMTA1LDEzNi45MDIxNTUgNjExLjUzMjY5NiwxMzkuMDcwODM5IEw2MjUuNDk0MzAzLDEzOS4wNzA4MzkgQzYyMy4zNDYxMzIsMTM0LjY3NDU4OCA2MjIuMjcxNTQ3LDEyOC4zNDkxNzYgNjIyLjI3MTU0NywxMjEuODA5MTkyIEw2MjIuMjcxNTQ3LDQwLjY0MzcxODkgWiBNNTQzLjIwNzA4Nyw5My4wNzQzNzY3IEM1NDMuMjA3MDg3LDc2LjEzMzA5MTYgNTMyLjc5MDExMSw2Ny41NTYxNjA1IDUxNy4zMjUwODUsNjcuNTU2MTYwNSBDNTA4LjA4OTY1Miw2Ny41NTYxNjA1IDQ5OS40OTc5NzEsNzAuMjM1ODI3NyA0OTMuMjY5Mzc3LDc2LjM0NzY2NDUgQzQ5Mi45NDc1MDEsNzQuMDk2MTQ1MyA0OTIuNDEwNzA4LDcxLjg0NDYyNiA0OTEuNTUyMDQsNjkuNDg1MzIxMyBMNDc2Ljk0NjY4Miw2OS40ODUzMjEzIEM0NzkuMDkzODUyLDczLjg4MTU3MjMgNDgwLjE2ODQzNyw4MC4yMDY5ODQxIDQ4MC4xNjg0MzcsODYuNzQ3OTY2OSBMNDgwLjE2ODQzNywxMjEuODA5MTkyIEM0ODAuMTY4NDM3LDEyOC4zNDkxNzYgNDc5LjA5Mzg1MiwxMzQuNjc0NTg4IDQ3Ni45NDY2ODIsMTM5LjA3MDgzOSBMNDk3LjI0Mzg0MSwxMzkuMDcwODM5IEM0OTUuMDk1NjcxLDEzNC42NzQ1ODggNDk0LjAyMTA4NiwxMjguMzQ5MTc2IDQ5NC4wMjEwODYsMTIxLjgwOTE5MiBMNDk0LjEyOTA0NSw5My4xODExNjQyIEM0OTQuMTI5MDQ1LDgwLjc0MjkxNzYgNTAxLjIxNjMwNyw3Mi4zODA1NTk1IDUxMy40NTk1NzgsNzIuMzgwNTU5NSBDNTI0LjczNTIyMiw3Mi4zODA1NTk1IDUyOS4yNDU0OCw4MC4xMDAxOTY2IDUyOS4yNDU0OCw5My4wNzQzNzY3IEw1MjkuMzUzNDM5LDEyMS44MDkxOTIgQzUyOS4zNTM0MzksMTI4LjM0OTE3NiA1MjguMjc4ODU0LDEzNC42NzQ1ODggNTI2LjEzMTY4MywxMzkuMDcwODM5IEw1NDYuNDI3ODQzLDEzOS4wNzA4MzkgQzU0NC4yODA2NzMsMTM0LjY3NDU4OCA1NDMuMjA3MDg3LDEyOC4zNDkxNzYgNTQzLjIwNzA4NywxMjEuODA5MTkyIEw1NDMuMjA3MDg3LDkzLjA3NDM3NjcgWiBNNDYzLjE1OTAwNyw2OS40ODUzMjEzIEw0NDUuOTc2NjQ0LDY5LjQ4NTMyMTMgQzQ0OC4wMTY4NTYsNzMuMjM4ODUxNCA0NDkuNDEzMzE3LDgwLjg1MDcwMzEgNDQ5LjQxMzMxNyw4NS44OTA2NzMgTDQ0OS4zMDUzNTgsMTE1LjM3NTk5NCBDNDQ5LjMwNTM1OCwxMjcuODEyMjQ1IDQ0Mi4yMTgwOTYsMTM2LjE3NTYwMSA0MjkuODY3ODY2LDEzNi4xNzU2MDEgQzQxOS4zNDM5MzIsMTM2LjE3NTYwMSA0MTQuMTg4OTIzLDEyOC40NTU5NjQgNDE0LjE4ODkyMywxMTUuMzc1OTk0IEw0MTQuMTg4OTIzLDY5LjQ4NTMyMTMgTDM5OC4yOTUwNjIsNjkuNDg1MzIxMyBDMzk5LjQ3NjYwNiw3My4yMzg4NTE0IDQwMC4zMzUyNzQsODAuODUwNzAzMSA0MDAuMzM1Mjc0LDg1Ljg5MDY3MyBMNDAwLjMzNTI3NCwxMTUuMzc1OTk0IEM0MDAuMzM1Mjc0LDEzMi4zMTYyODEgNDExLjkzMzc5NCwxNDEgNDI2LjAwMjM2LDE0MSBDNDM1LjUyNjY4MSwxNDEgNDQ0LjI2MDMwNywxMzguMDcwODI5IDQ1MC4xMTkwNDQsMTMyLjEwODY5NSBDNDUwLjU1ODg3NCwxMzQuNDEzMTA5IDQ1MS4yNTk2MDQsMTM2LjY5OTU1OCA0NTIuNDIwMTU1LDEzOS4wNzA4MzkgTDQ2Ni4zODA3NjMsMTM5LjA3MDgzOSBDNDY0LjIzMjU5MywxMzQuNjc0NTg4IDQ2My4xNTkwMDcsMTI4LjM0OTE3NiA0NjMuMTU5MDA3LDEyMS44MDkxOTIgTDQ2My4xNTkwMDcsNjkuNDg1MzIxMyBaIE0zODUuMDY1MTcyLDQ0LjgyNTM5NyBDMzg4LjM5Mzg4Niw0NC44MjUzOTcgMzkyLjQ3NDMxLDQ4LjY4NDcxNjYgMzk1LjQ4MjE0OSw1NS42NTQ4NDUzIEw0MDEuMDY1OTkyLDQxLjgyMzM3MTMgQzM5Ni43NzA2NTEsNDAuNjQzNzE4OSAzOTIuNzk3MTg2LDQwIDM4OS4wMzg2MzcsNDAgQzM3NS4xODQ5ODksNDAgMzY1LjQxMjc2Myw0OC4xNDg3ODMxIDM2NS40MTI3NjMsNjQuMDE4MjAxNCBMMzY1LjQxMjc2Myw2OS40ODUzMjEzIEwzNTYuMTc2MzMxLDY5LjQ4NTMyMTMgTDM1Ni4xNzYzMzEsNzQuMjAzOTMwOCBMMzY1LjQxMjc2Myw3NC4yMDM5MzA4IEwzNjUuNDEyNzYzLDEyMS44MDkxOTIgQzM2NS40MTI3NjMsMTI4LjM0OTE3NiAzNjQuMzM4MTc4LDEzNC42NzQ1ODggMzYyLjE5MDAwOCwxMzkuMDcwODM5IEwzODIuNDg3MTY4LDEzOS4wNzA4MzkgQzM4MC4zMzk5OTcsMTM0LjY3NDU4OCAzNzkuMjY1NDEzLDEyOC4zNDkxNzYgMzc5LjI2NTQxMywxMjEuODA5MTkyIEwzNzkuMjY1NDEzLDc0LjIwMzkzMDggTDM5MS4xODU4MDgsNzQuMjAzOTMwOCBMMzkxLjE4NTgwOCw2OS40ODUzMjEzIEwzNzkuMjY1NDEzLDY5LjQ4NTMyMTMgTDM3OS4yNjU0MTMsNTYuNDA1MzUxNyBDMzc5LjI2NTQxMyw0OC41Nzc5MjkxIDM4MS44NDM0MTcsNDQuODI1Mzk3IDM4NS4wNjUxNzIsNDQuODI1Mzk3IFogTTM0Ni40NzUwNzgsNDAuNjQzNzE4OSBMMzI5LjE4NDc1Nyw0NS42ODI2OTA5IEMzMzEuMjI1OTY5LDQ5LjQzNTIyMyAzMzIuNjIxNDI5LDU3LjA0ODA3MjYgMzMyLjYyMTQyOSw2Mi4wODgwNDI2IEwzMzIuNjIxNDI5LDEyMS44MDkxOTIgQzMzMi42MjE0MjksMTI4LjM0OTE3NiAzMzEuNTQ3ODQ0LDEzNC42NzQ1ODggMzI5LjM5OTY3NCwxMzkuMDcwODM5IEwzNDkuNjk2ODM0LDEzOS4wNzA4MzkgQzM0Ny41NDg2NjQsMTM0LjY3NDU4OCAzNDYuNDc1MDc4LDEyOC4zNDkxNzYgMzQ2LjQ3NTA3OCwxMjEuODA5MTkyIEwzNDYuNDc1MDc4LDQwLjY0MzcxODkgWiBNMzE0Ljc0ODMzMyw0MC42NDM3MTg5IEwyOTcuNDU4MDEyLDQ1LjY4MjY5MDkgQzI5OS40OTkyMjMsNDkuNDM1MjIzIDMwMC44OTQ2ODQsNTcuMDQ4MDcyNiAzMDAuODk0Njg0LDYyLjA4ODA0MjYgTDMwMC44OTQ2ODQsMTIxLjgwOTE5MiBDMzAwLjg5NDY4NCwxMjguMzQ5MTc2IDI5OS44MjEwOTksMTM0LjY3NDU4OCAyOTcuNjcyOTI5LDEzOS4wNzA4MzkgTDMxNy45NzAwODksMTM5LjA3MDgzOSBDMzE1LjgyMTkxOSwxMzQuNjc0NTg4IDMxNC43NDgzMzMsMTI4LjM0OTE3NiAzMTQuNzQ4MzMzLDEyMS44MDkxOTIgTDMxNC43NDgzMzMsNDAuNjQzNzE4OSBaIE0yNzIuMjUxNzQ4LDExNC43MzIyNzUgQzI3Mi4yNTE3NDgsMTIyLjk4Nzg0NiAyNjguOTIzMDM0LDEzNi4xNzU2MDEgMjUzLjQ1ODAwOCwxMzYuMTc1NjAxIEMyNDYuMDQ4ODcsMTM2LjE3NTYwMSAyNDAuNTcxOTg1LDEzMC4yNzgzMzcgMjQwLjU3MTk4NSwxMTkuOTg1ODIgTDI0MC41NzE5ODUsMTE2Ljg3NjAwOSBDMjQwLjU3MTk4NSwxMDcuMjI3MjExIDI0Ni42OTI2MjEsMTAxLjU0NDUyIDI1NS4wNjkzODUsMTAxLjU0NDUyIEwyNzIuMjUxNzQ4LDEwMS41NDQ1MiBMMjcyLjI1MTc0OCwxMTQuNzMyMjc1IFogTTI4NS45OTc0MzksOTIuMDAyNTA5OSBDMjg1Ljg5MDQ4LDc1LjQ5MDM3MDYgMjc0LjkzNjcxMSw2Ny41NTYxNjA1IDI1OC45MzQ4OTIsNjcuNTU2MTYwNSBDMjUwLjEyOTI5Myw2Ny41NTYxNjA1IDIzOS44MjAyNzUsNjkuOTE0NDY3MiAyMjguOTczNDY1LDc0LjYzMjA3ODcgTDIzMi42MjUwNTUsODguNzg0OTEzMiBDMjQwLjE0MjE1MSw3Ny45NTU0NjQ5IDI0OS41OTI1MDEsNzIuMjczNzcyIDI1Ny40MzI0NzIsNzIuMjczNzcyIEMyNjUuODA4MjM3LDcyLjI3Mzc3MiAyNzIuMjUxNzQ4LDc4LjcwNTk3MTMgMjcyLjI1MTc0OCw5Mi4wMDI1MDk5IEwyNzIuMjUxNzQ4LDk2LjcxOTEyMzMgTDI1NS4wNjkzODUsOTYuNzE5MTIzMyBDMjM2LjkyMDM5Niw5Ni43MTkxMjMzIDIyNSwxMDQuMjI1MTg2IDIyNSwxMTYuODc2MDA5IEwyMjUsMTE5Ljk4NTgyIEMyMjUsMTMzLjI4MTM2MSAyMzYuMjc1NjQ1LDE0MSAyNTMuNDU4MDA4LDE0MSBDMjYzLjUxNzEyMiwxNDEgMjY5LjE1NTk0NCwxMzcuMzk3MTcgMjczLjAzMjQ0NywxMzIuMjM5NDM0IEMyNzMuNTAxMjY2LDEzNC40OTg5MzggMjc0LjIyNzk4NSwxMzYuNzQ0NDY5IDI3NS4zNjY1NDUsMTM5LjA3MDgzOSBMMjg5LjMyNzE1MywxMzkuMDcwODM5IEMyODcuMTc4OTgyLDEzNC42NzQ1ODggMjg2LjEwNTM5NywxMjguMzQ5MTc2IDI4Ni4xMDUzOTcsMTIxLjgwOTE5MiBMMjg1Ljk5NzQzOSw5Mi4wMDI1MDk5IEwyODUuOTk3NDM5LDkyLjAwMjUwOTkgWiIgaWQ9IkZpbGwtMSIgZmlsbD0iI0ZGRkZGRiI+PC9wYXRoPgogICAgICAgIDxwYXRoIGQ9Ik0xOTEsMTA0LjUgQzE5MSwxNTcuMjQzODI0IDE0OC4yNDMwNDcsMjAwIDk1LjQ5OTQ5OTcsMjAwIEM0Mi43NTU5NTIzLDIwMCAwLDE1Ny4yNDM4MjQgMCwxMDQuNSBDMCw1MS43NTYxNzYzIDQyLjc1NTk1MjMsOSA5NS40OTk0OTk3LDkgQzE0OC4yNDMwNDcsOSAxOTEsNTEuNzU2MTc2MyAxOTEsMTA0LjUiIGlkPSJGaWxsLTIiIGZpbGw9IiNENTAwMzIiPjwvcGF0aD4KICAgICAgICA8cGF0aCBkPSJNMjgsMTM5IEw4MC4zNjIwMDY3LDEzOSBMNTQuMzQwMzQ2MSw5Mi42ODk5OTYgTDI4LDEzOSBaIE05MS4xNDQ1Mjg4LDEzOSBMMTA5LjAzMzczNiwxMzkgTDEwOS4wMzM3MzYsNjkuNTQ0NDU3NCBMOTEuMTQ0NTI4OCw2OS41NDQ0NTc0IEw5MS4xNDQ1Mjg4LDEzOSBaIE0xMzAuMTEwNzkzLDEzOSBMMTQ4LDEzOSBMMTQ4LDUwIEwxMzAuMTEwNzkzLDUwIEwxMzAuMTEwNzkzLDEzOSBaIiBpZD0iRmlsbC0zIiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+CiAgICA8L2c+Cjwvc3ZnPgo="},4415:function(e,t,M){var i=M(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(M(42)),a=i(M(45)),o=i(M(26)),r=i(M(28)),s=i(M(11)),u=i(M(72)),N=i(M(1711)),c=i(M(50)),D=i(M(4416)),g=i(M(187)),l=function(){function e(t,M,i,n){var a=this;(0,o.default)(this,e),(0,s.default)(this,"handle_authorization_error",(function(e,t){var M=t.password,i=null;(0,N.default)(e,(function(e){return i=(0,u.default)(a.ERROR_HANDLING,e,null),!!(0,c.default)(i)})),(0,c.default)(i)?a.screen.showInvalidCredentialsError():i({password:M})})),this.screen=t,this.navigation=M,this.logIn=i||(0,D.default)(),this.userSession=n||(0,g.default)(),this.location=t.props.location,this.ERROR_HANDLING={invalid_credentials:function(){return a.screen.showInvalidCredentialsError()},user_blocked:function(){return a.screen.showBlockedError()},user_blocked_email_sent:function(){return a.screen.showBlockedError()},app_user_not_allowed:function(){return a.screen.showAppUserError()},password_change_required:function(){return a.navigation.goToChangePassword()},password_and_signature_change_required:function(){return a.navigation.goToChangePassword(!0)},signature_change_required:function(){return a.navigation.goToChangeSignature()},two_factor_authentication_needed:function(e){var t=e.password;a.userSession.setUserPassword(t),a.navigation.goToTwoFactorLogin()}}}return(0,r.default)(e,[{key:"onNavigate",value:function(){this.userSession.isUserLoggedIn()&&this.navigateToRequestedLocationOrHome()}},{key:"onLogIn",value:function(){var e=(0,a.default)(n.default.mark((function e(t,M){var i,a,o;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.logIn(t,M);case 2:if(i=e.sent,a=i.user,o=i.errors,!(0,c.default)(a)){e.next=9;break}return this.userSession.setUserUsername(t),this.handle_authorization_error(o,{username:t,password:M}),e.abrupt("return");case 9:this.navigateToRequestedLocationOrHome();case 10:case"end":return e.stop()}}),e,this)})));return function(t,M){return e.apply(this,arguments)}}()},{key:"navigateToRequestedLocationOrHome",value:function(){this.navigation.navigateToRequestedLocationOrHome(this.location,this.userSession)}}]),e}();t.default=l},4416:function(e,t,M){var i=M(2);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.createLogIn=void 0;var n=i(M(42)),a=i(M(45)),o=i(M(26)),r=i(M(28)),s=i(M(162)),u=M(67),N=j(M(70)),c=i(M(187)),D=i(M(228)),g=j(M(470));function l(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,M=new WeakMap;return(l=function(e){return e?M:t})(e)}function j(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var M=l(t);if(M&&M.has(e))return M.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&Object.prototype.hasOwnProperty.call(e,a)){var o=n?Object.getOwnPropertyDescriptor(e,a):null;o&&(o.get||o.set)?Object.defineProperty(i,a,o):i[a]=e[a]}return i.default=e,M&&M.set(e,i),i}var T=function(){function e(t,M,i){(0,o.default)(this,e),this.apiClient=t?new N.ApiClient(t):(0,N.default)(),this.userSession=M||(0,c.default)(),this.trackEvent=i||(0,D.default)()}return(0,r.default)(e,[{key:"run",value:function(){var e=(0,a.default)(n.default.mark((function e(t,M){var i,a,o,r,u;return n.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g.addBreadcrumb({category:"auth",message:"Authenticating user "+t,level:g.Severity.Info}),e.next=3,this.apiClient.mutate({kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"LogIn"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"email"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"log_in"},arguments:[{kind:"Argument",name:{kind:"Name",value:"email"},value:{kind:"Variable",name:{kind:"Name",value:"email"}}},{kind:"Argument",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"session_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"language"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"csrf_token"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errors"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:277,source:{body:"\n      mutation LogIn($email: String!, $password: String!) {\n        log_in(email: $email, password: $password) {\n          user {\n            id\n            name\n            session_token\n            language\n          }\n          csrf_token\n          errors\n        }\n      }",name:"GraphQL request",locationOffset:{line:1,column:1}}}},{email:t,password:M});case 3:return i=e.sent,a=i.log_in,o=a.user,r=a.csrf_token,u=a.errors,(0,s.default)(u)&&(this.userSession.save(o,r),this.trackEvent.identify(),this.trackEvent.track({eventID:"user_logged_in"}),g.addBreadcrumb({category:"auth",message:"Authenticated user ".concat(t," (").concat(o.id,")"),level:g.Severity.Info})),e.abrupt("return",{user:o,errors:u});case 7:case"end":return e.stop()}}),e,this)})));return function(t,M){return e.apply(this,arguments)}}()}]),e}(),z=(0,u.actionFactory)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.graphqlClient,M=e.userSession,i=e.trackEvent;return new T(t,M,i)}));t.createLogIn=z;var d=(0,u.providerFor)(z);t.default=d}}]);